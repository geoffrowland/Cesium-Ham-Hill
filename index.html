<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://cesium.com/downloads/cesiumjs/releases/1.88/Build/Cesium/Cesium.js"></script>
  <link href="https://cesium.com/downloads/cesiumjs/releases/1.88/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>
<body>
  <div id="cesiumContainer"></div>
  <script>
    // Get your token from https://cesium.com/ion/tokens
    Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3ODJiNTI2NC0yNDUzLTRlZWMtOWQ3OS00NDhkZWQ5ZjBjYTYiLCJpZCI6NTgsImlhdCI6MTQ4NzYyNjM0N30.w1o6-XfyCqrGJtj8X4ci4z8zvtFxETG562RORr35O_s';
    // Keep your Cesium.Ion.defaultAccessToken = 'your_token_here' line above. 
    // STEP 2 CODE
    // Initialize the viewer with Cesium World Terrain, updated with local National LIDAR Programme Digital Terrain Model.
    var viewer = new Cesium.Viewer("cesiumContainer", {
        timeline: false,
        animation: false,
        baseLayerPicker: false,
        terrainProvider: new Cesium.CesiumTerrainProvider({
            url: Cesium.IonResource.fromAssetId(605049),
        }),
    });
    // Add local hillshade terrain layer generated by QGIS.
    var layer = viewer.imageryLayers.addImageryProvider(
        new Cesium.IonImageryProvider({
            assetId: 605050,
            credit: "EA"
        })
    );
    // Add extensive Hillshade
    var custom = viewer.imageryLayers.addImageryProvider(
        new Cesium.UrlTemplateImageryProvider({
            url : 'https://geoffrowland.github.io/Hillshade-1m-Dorset-Somerset/{z}/{x}/{reverseY}.png'
        })
    );
    // Add BGS Bedrock
    var geolayer = viewer.imageryLayers.addImageryProvider(
        new Cesium.WebMapServiceImageryProvider({
            url: "https://map.bgs.ac.uk/arcgis/services/BGS_Detailed_Geology/MapServer/WMSServer",
            layers: "BGS.50k.Bedrock",
            credit: "BGS",
            parameters: {
                transparent: true,
                format: "image/png"
            } 
        })
    );
    geolayer.alpha = 0.3;
    // Add BGS Linear Features
    var linearlayer = viewer.imageryLayers.addImageryProvider(
        new Cesium.WebMapServiceImageryProvider({
            url: "https://map.bgs.ac.uk/arcgis/services/BGS_Detailed_Geology/MapServer/WMSServer",
            layers: "BGS.50k.Linear.features",
            credit: "BGS",
            parameters: {
                transparent: true,
                format: "image/png"
            } 
        })
    );
    // Fly the camera to Ham Hill, Somerset at the given longitude, latitude, and height.
    viewer.camera.flyTo({
      destination: Cesium.Cartesian3.fromDegrees(-2.73783, 50.94652, 3000)
    });

  </script>
</body>
</html>
